---
layout: post
title:  "재미있는 정수론 문제"
categories: ps
use_math: true
---

### BOJ 11692 - 시그마 함수



#### sol. 1 풀이

시간복잡도 :  $O(\sqrt(N)M)$ --> TLE 

M이 매우 크기 때문에 M에 대해 전체 탐색을 하는것은 잘못된 선택이다

#### sol. 2 풀이

시간복잡도 : $O(log M)$

$n = 2^x p_{1}^{e_1} p_{2}^{e_2} p_{3}^{e_3} ... p_{k}^{e_k}$ 으로 정의할 수 있다.
이때 $p_i$는 홀수이다. 

여기서 약수의 합은 다음처럼 구할 수 있다. 

$(1+2+2^2 + ... + 2^x) (1+p_{1} + p_{1}^2 ... p_{1}^{e_1})...(1+p_{k} + p_{k}^2 ... p_{k}^{e_k})$
이때 첫번째 항은 무조건 홀수 이다. 그러므로 나머지 항 중 하나라도 짝수여야 n 이 짝수다.

이 말은 $e_k$ 중 하나라도 홀수면 n 이 짝수라는 뜻이다.

우리는 문제를 풀때 전체 개수에서 홀수인 개수를 빼도 정답을 구할 수 있다.

즉 $e_k$ 가 모두 짝수일 때를 구하면 된다.

근데 $e_k$가 모두 짝수라는건 결국 $n = P^2 2^x$ 와 같다. 이때 $P$는 홀수 이다. 

$m \geq P^2 2^x$의 개수를 구해야 한다. 

$ m / {2^x} \geq P^2$ 에서 각 $x$마다의 $P$의 개수를 구하면 되므로 

홀수 $P$의 개수는 $(\sqrt(m) +1 )/2$와 같다.

즉 $m$을 2로 나누면서 해당 식의 값을 찾아주면 된다.


#### sol.3 풀이

$O(1)$ 

위의 수식을 다시 생각해보면 $n = P^2 2^x$ 이다. 근데 x가 홀수일 때, 짝수일 때 생각하면? 

$n = X^2 or 2X^2$ 이다. 이때 $X$는 자연수이다. 즉 전체에서 다음 두가지를 만족하는 수의 개수를 빼주면 되므로

$O(1)$에 처리가 가능하다.

```cpp
#include <bits/stdc++.h>

using namespace std;

int main(void){
    
    long long m;
    cin >> m;
    
    cout << m - (long long)sqrt(m) - (long long)sqrt(m/2);
}
```